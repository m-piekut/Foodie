{"version":3,"sources":["Components/FoodieHeading.js","Home/Home.js","firebase.js","Loader.js","BackToDinners.js","Site404.js","ProfileSite/Friends/AddToFriends.js","ProfileSite/Friends/DeleteFriend.js","ProfileSite/Friends/Friends.js","ProfileSite/ProfileDinners.js","ProfileSite/StandardProfile.js","ProfileSite/AddPhotos.js","ProfileSite/DeletePhoto.js","ProfileSite/Friends/InviteAnswer.js","ProfileSite/Friends/Invites.js","ProfileSite/YourProfile.js","ProfileSite/ProfileSite.js","MakeDinner.js","Dinners/Dinner.js","Dinners/DinnersList.js","Dinners/LeveDinner.js","Timer.js","Dinners/DinnerInfo.js","redux/userData/userDataSlice.js","Header.js","App.js","store.js","index.js"],"names":["FoodieHeader","className","Home","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Loader","BacktoDinners","to","Site404","AddToFriends","profileId","useParams","useState","yourInfo","setYourInfo","loggedUserId","useSelector","state","takeData","useEffect","collection","doc","onSnapshot","data","onClick","id","set","from","username","avatar","console","log","DeleteFriend","delete","then","alert","update","friends","FieldValue","increment","Friends","isItYourProfile","setFriends","snapshot","docs","map","friend","src","alt","ProfileDinners","showDinners","dinners","setDinners","dinner","forEach","Date","date","time","getTime","city","name","StandardProfile","userProfile","userImages","userId","showFriends","setShowFriends","setShowDinners","alreadyInvite","setAlreadyInvite","alreadyFriend","setAlreadyFriend","X","likes","description","image","AddPhotos","openPhotoForm","setOpenPhotoForm","progress","setProgress","setImage","Modal","open","onClose","onSubmit","e","preventDefault","fileName","idxDot","lastIndexOf","extFile","substr","length","toLowerCase","ref","put","on","Math","round","bytesTransferred","totalBytes","setTimeout","error","message","child","getDownloadURL","url","add","value","max","required","type","accept","onChange","target","files","DeletePhoto","imageId","imageName","photoRef","catch","InviteAnswer","yourId","Invites","invites","setInvites","invite","YourProfile","quoteForm","setQuoteForm","avatarForm","setAvatarForm","descriptionForm","setDescriptionForm","quote","setQuote","setDescription","userDbPath","setUserDbPath","handleQuote","handleUpload","handleDescription","minLength","maxLength","withRouter","setUserProfile","setIsItYourProfile","setUserImages","loading","setLoading","onAuthStateChanged","user","MakeDinner","setCity","address","setAddress","setName","setDate","setTime","currentUser","setCurrentUser","setAvatar","openForm","setOpenForm","displayName","docRef","handleSubmit","htmlFor","placeholder","Dinner","searchValue","dinnerId","dinnerMaker","setDinnerMaker","invited","setInvited","dinnerTime","currentTime","avatars","search","DinnersList","searchIcon","document","querySelector","searchBar","setSearchValue","classList","toggle","LeaveDinner","Timer","history","useHistory","setCurrentTime","test2","setTest2","setInterval","push","floor","toFixed","DinnerInfo","setDinner","currentUserId","setCurrentUserId","alreadyJoined","setAlreadyJoined","isMaker","setIsMaker","maker","invitedUser","get","exists","i","about","userDataSlice","createSlice","initialState","loggedUserUsername","loggedUserPhotos","reducers","loginUp","loginOut","getPhotos","action","payload","actions","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","Header","classes","modalStyle","setOpen","openLogin","setOpenLogin","OpenLogout","setOpenLogout","setUsername","password","setPassword","email","setEmail","setUser","dispatch","useDispatch","usubscribe","authUser","style","Input","Button","createUserWithEmailAndPassword","userCredential","updateProfile","errorMessage","signInWithEmailAndPassword","login","signOut","App","exact","path","component","ProfileSite","configureStore","reducer","loginUpReducer","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.20dd8da1.chunk.js","sourcesContent":["const FoodieHeader  = () => {\r\n    \r\n    return ( \r\n        <h1 className=\"h1\">Foodie</h1>\r\n    );\r\n}\r\n \r\nexport default FoodieHeader;","import FoodieHeader from \"../Components/FoodieHeading\";\r\n\r\nconst Home = () => {\r\n    return ( \r\n        <header className=\"header\">\r\n            <FoodieHeader/>\r\n            <p className=\"header__p\">Ucztujcie razem</p>\r\n        </header>\r\n     );\r\n}\r\nexport default Home;","import firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp(\r\n  {\r\n    apiKey: \"AIzaSyAK2vuEi_fmyf0qGTVhn5K0vY7J6xWr0-o\",\r\n    authDomain: \"foodie-ccee4.firebaseapp.com\",\r\n    databaseURL: \"https://foodie-ccee4-default-rtdb.firebaseio.com\",\r\n    projectId: \"foodie-ccee4\",\r\n    storageBucket: \"foodie-ccee4.appspot.com\",\r\n    messagingSenderId: \"287004675749\",\r\n    appId: \"1:287004675749:web:736e7ded380b68da27c74c\",\r\n    measurementId: \"G-3EQLXB8ZK4\"\r\n  }\r\n);\r\nconst db = firebase.firestore()\r\nconst auth = firebase.auth()\r\nconst storage = firebase.storage()\r\n\r\n\r\n\r\nexport {db, auth, storage}\r\n\r\nexport default firebaseApp;","const Loader = () => {\r\n    return ( \r\n        <div className=\"lds-ripple\"><div></div><div></div></div>\r\n     );\r\n}\r\n \r\nexport default Loader;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst BacktoDinners = () => {\r\n    return ( \r\n        <Link to=\"../dinners\" className=\"backToDinners primary-btn\">Uczty</Link>\r\n     );\r\n}\r\n \r\nexport default BacktoDinners;","import BacktoDinners from \"./BackToDinners\"\r\n\r\nconst Site404 = () => {\r\n    return ( \r\n        <div className=\"page404\">\r\n            <p className=\"page404__code\">404</p>\r\n            <p className=\"page404__text\">Nie znaleziono strony</p>\r\n            <BacktoDinners/>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Site404;","import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport {  db } from \"../../firebase\";\r\n\r\nconst AddToFriends = () => {\r\n\r\n    const profileId = useParams()\r\n    const [yourInfo, setYourInfo] = useState(null)\r\n    const { loggedUserId} = useSelector(state => state.takeData)\r\n    useEffect(()=>{\r\n        db.collection('users').doc(loggedUserId).onSnapshot(doc =>{\r\n            setYourInfo(doc.data())\r\n        })\r\n        return()=>{\r\n        }\r\n    },[loggedUserId])\r\n\r\n\r\n   \r\n\r\n    const addFriend = ()=>{\r\n        db.collection(\"users\").doc(`${profileId.id}`).collection('invites').doc(loggedUserId).set({\r\n            from: loggedUserId,\r\n            username: yourInfo.username,\r\n            avatar: yourInfo.avatar\r\n        })\r\n        console.log(1);\r\n    }\r\n\r\n\r\n    return ( \r\n        <button className=\"add-photos\" onClick={()=>addFriend()}><i className=\"fas fa-user-plus add-photos__icon\"></i></button>\r\n     );\r\n}\r\n \r\nexport default AddToFriends;\r\n","import { db } from \"../../firebase\";\r\nimport firebase from 'firebase'\r\nconst DeleteFriend = ({from, profileId}) => {\r\n\r\n    const deleteFriend = ()=>{\r\n        db.collection('users').doc(profileId).collection('friends').doc(from).delete().then(()=>{\r\n            alert('usunięto znajomego')\r\n            db.collection('users').doc(profileId).update({\r\n                friends: firebase.firestore.FieldValue.increment(-1)\r\n            })\r\n        })\r\n    }\r\n\r\n    return ( \r\n        <button className=\"friends__delete\" onClick={()=>deleteFriend()}><i className=\"fas fa-times\"></i></button>\r\n     );\r\n\r\n}\r\n \r\nexport default DeleteFriend;","\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../../firebase\";\r\nimport DeleteFriend from \"./DeleteFriend\";\r\n\r\n\r\nconst Friends = ({isItYourProfile}) => {\r\n    const profileId = useParams();\r\n    const [friends, setFriends] = useState(null)\r\n    \r\n\r\n    useEffect(()=>{\r\n        db.collection('users').doc(profileId.id).collection('friends').onSnapshot(snapshot =>{\r\n            setFriends(snapshot.docs.map(doc =>({\r\n                id: doc.id,\r\n                friend: doc.data()\r\n            })))     \r\n        })\r\n        return()=>{\r\n            setFriends(null)\r\n        }\r\n    },[profileId])\r\n\r\n\r\n\r\n    return ( \r\n        <div className=\"friends\">\r\n            {friends && <div className=\"friends__wrapper\">\r\n            <h3 className=\"friends__title\">Obserwujący</h3>\r\n                {friends.map(({id, friend})=>(\r\n                    <div key={id} className=\"friends__listItem\">\r\n                        <img className=\"friends__avatar avatar\" src={friend.avatar} alt=\"\"/>\r\n                        <div className=\"friends__right\">\r\n                            <p><Link to={`/users/${friend.from}`}>{friend.username} </Link></p>\r\n                            {isItYourProfile && <DeleteFriend from={friend.from} profileId= {profileId.id}/> }\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Friends; ","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../firebase\";\r\nimport firebase from 'firebase'\r\n\r\nconst ProfileDinners = ( {showDinners}) => {\r\n\r\n    const {id} = useParams();\r\n    const [dinners, setDinners] = useState(null)\r\n    \r\n\r\n    useEffect(()=>{\r\n        db.collection('users').doc(id).collection('dinners').onSnapshot(snapshot =>{\r\n            setDinners(snapshot.docs.map(doc =>({\r\n                id: doc.id,\r\n                dinner: doc.data()\r\n            })))      \r\n        })\r\n       return(()=>{\r\n           \r\n       })\r\n\r\n       \r\n       \r\n    },[id])\r\n    \r\n    \r\n    useEffect(()=>{\r\n        if(dinners){\r\n\r\n            dinners.forEach((dinner)=>{\r\n                let dinnerTime = new Date(new Date(`${dinner.dinner.date}T${dinner.dinner.time}`).getTime())\r\n                let currentTime = new Date().getTime()\r\n                if(dinnerTime < currentTime){\r\n                    db.collection('users').doc(id).collection('dinners').doc(dinner.id).delete().then(\r\n                        db.collection('users').doc(id).update({\r\n                            dinners: firebase.firestore.FieldValue.increment(-1)\r\n                        })\r\n                    )\r\n                    \r\n                }\r\n        })\r\n        }\r\n    },[dinners, showDinners, id])\r\n\r\n\r\n    return ( \r\n        <div className=\"profileDinners\">\r\n        <h3 className=\"profileDinners__title\">Twoje Uczty</h3>\r\n        {dinners && <div className=\"profileDinners__wrapper\">\r\n            {dinners && dinners.map(({id, dinner})=>(\r\n                <Link key={id} to={`/dinners/${id}`}><div  className=\"profileDinners__listItem\">\r\n                    <div className=\"profileDinners__upper\">\r\n                        <p className=\"dinnerProfile__date\">{dinner.date}</p>\r\n                        <p className=\"dinnerProfile__time\">{dinner.time}</p>\r\n                    </div>\r\n                    <div className=\"profileDinners__down\">\r\n                        <p className=\"dinnerProfile__date\">{dinner.city}</p>\r\n                        <p className=\"dinnerProfile__time\">{dinner.name}</p>\r\n                    </div>\r\n                    \r\n                </div></Link>\r\n            ))}\r\n        </div>}\r\n    </div>\r\n     );\r\n}\r\n \r\nexport default ProfileDinners;","\r\nimport { useEffect, useState } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\nimport Site404 from \"../Site404\";\r\nimport AddToFriends from \"./Friends/AddToFriends\"\r\nimport Friends from \"./Friends/Friends\"\r\nimport ProfileDinners from \"./ProfileDinners\";\r\n\r\n\r\nconst StandardProfile = ({userProfile, userImages, userId}) => {\r\n\r\n\r\n    const[showFriends,setShowFriends] = useState(false)\r\n    const[showDinners,setShowDinners] = useState(false)\r\n    const[alreadyInvite, setAlreadyInvite] = useState(true)\r\n    const[alreadyFriend, setAlreadyFriend] = useState(true)\r\n\r\n    useEffect(()=>{\r\n\r\n        if (auth.X) {\r\n        db.collection('users').doc(userId).collection('invites').doc(auth.X).onSnapshot((doc)=>{\r\n            setAlreadyInvite(doc.data())\r\n        })\r\n        db.collection('users').doc(userId).collection('friends').doc(auth.X).onSnapshot((doc)=>{\r\n            setAlreadyFriend(doc.data())\r\n        })} else{\r\n            setAlreadyFriend(false)\r\n            setAlreadyInvite(false)\r\n        }\r\n        return()=>{\r\n            setAlreadyFriend(null)\r\n            setAlreadyInvite(null)\r\n        }\r\n    },[userId])\r\n\r\n\r\n\r\n    return (  \r\n        (userProfile ? (<div className=\"user-profile\">\r\n            {/* <p className=\"user-profile-quote\">{userProfile.quote}</p> */}\r\n            <div className=\"user-info\">\r\n                <img className=\"user-info__image\" src={userProfile.avatar} alt=\"\"/>\r\n                <div className=\"user-info__personal\">\r\n                    <div className=\"user-info__personal-upper\">\r\n                    <p className=\"user-info__username\">{userProfile.username}</p>\r\n                    <div className=\"user-info__emotes\">\r\n                        <div className=\"user-info__emotes-item\">\r\n                            <i className=\"far fa-grin-tongue \"></i>\r\n                            <p>{userProfile.likes}</p>\r\n                        </div>\r\n                        <div className=\"user-info__emotes-item user-info__emotes-item--middle\"\r\n                        onClick={()=>{setShowDinners(!showDinners); \r\n                            setShowFriends(false)}}>\r\n                            <i className=\"fas fa-utensils\"></i>\r\n                            <p>{userProfile.dinners}</p>\r\n                        </div>\r\n                        <div className=\"user-info__emotes-item user-info__emotes-item\" \r\n                        onClick={()=>{setShowFriends(!showFriends); \r\n                        setShowDinners(false)}}>\r\n                        <i className=\"fas fa-user-friends\"></i>\r\n                            <p >{userProfile.friends}</p>\r\n                        </div>\r\n                    </div>\r\n                    {showFriends && <Friends/>}\r\n                    {showDinners && <ProfileDinners showDinners = {showDinners}/>}\r\n                    </div>\r\n                    <p className=\"user-info__personal-description\">{userProfile.description}</p>\r\n                </div>\r\n                           {/* <i className=\"fas fa-utensils\"></i> */}\r\n                {auth.X ? ( !alreadyInvite && !alreadyFriend ? <AddToFriends userProfile={userProfile}/>: \"juz zaprosiłes/obserwujesz\") : false}\r\n            </div>\r\n            {userImages &&<div className=\"user-profile__images-box\">\r\n                {userImages.map(({id, image})=>(\r\n                   <div className=\"user-profile__image\" key={id}>\r\n                   <img src={image.image} alt=\"\" />\r\n                   {/* <div className=\"user-profile__img\" style={ { backgroundImage: `url(\"${image.image}\")`}}> </div> */}\r\n               </div>\r\n                ))}\r\n            </div>}\r\n        </div>) : <Site404/>)\r\n\r\n     );\r\n}\r\n \r\nexport default StandardProfile;","import { Modal } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { db, storage } from \"../firebase\";\r\n\r\nconst AddPhotos = ({id}) => {\r\n\r\n    const [openPhotoForm, setOpenPhotoForm] =useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [image, setImage] = useState(null);\r\n    const handleChange = (e)=>{\r\n        if(e.target.files[0]){\r\n            setImage(e.target.files[0])\r\n            console.log(image)\r\n        }\r\n    }\r\n    const addPhoto = (e)=>{\r\n        e.preventDefault()\r\n        var fileName = image.name;\r\n        var idxDot = fileName.lastIndexOf(\".\") + 1;\r\n        var extFile = fileName.substr(idxDot, fileName.length).toLowerCase();\r\n        if(extFile===\"jpg\" || extFile===\"jpeg\" || extFile===\"png\"){\r\n\r\n            const uploadTask = storage.ref(`${id}/Images/${image.name}`).put(image)\r\n            uploadTask.on(\r\n                \"stage_changed\",\r\n                (snapshot) => {\r\n                    //progress func...\r\n                    const progress = Math.round(\r\n                        (snapshot.bytesTransferred / snapshot.totalBytes) *100\r\n                    );\r\n                    setProgress(progress)\r\n                    if(progress === 100){\r\n                        setTimeout(() => {\r\n                            setOpenPhotoForm(false)\r\n                            \r\n                        }, 500);\r\n                    }\r\n                },\r\n                (error) => {\r\n                    //Error function\r\n                    console.log(error);\r\n                    alert(error.message)\r\n                },\r\n                ()=> {\r\n                    //complete function\r\n    \r\n                    storage\r\n                    .ref(`${id}/Images`)\r\n                    .child(`${image.name}`)\r\n                    .getDownloadURL()\r\n                    .then(url => {\r\n                        db.collection('users').doc(id).collection('images').add({\r\n                            image: url,\r\n                            name: image.name\r\n                        });\r\n                        setProgress(0);\r\n                        setImage(null);\r\n                    })\r\n                }\r\n            )\r\n        }else {\r\n            alert('To nie jest zdjęcie')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"add-photo-form\">\r\n\r\n            <button className=\"add-photos\" onClick={()=>setOpenPhotoForm(true)}><i className=\"fas fa-image add-photos__icon\"></i>Dodaj zdjęcie</button>\r\n\r\n\r\n            <Modal\r\n            open={openPhotoForm}\r\n            onClose={()=> setOpenPhotoForm(false)}\r\n            >\r\n            <form className=\"new-dinner\" onSubmit={addPhoto}>\r\n            <h3>Twóje zdjęcie</h3>\r\n                {/* <input type=\"text\" value={avatar} onChange={(e)=>setAvatar(e.target.value)}/> */}\r\n                <p className=\"user-profile__form-procentage\">{progress}%</p>\r\n                {/* <progress className=\"user-profile__form-progress\" value={[70]} max=\"100\"/> */}\r\n                <progress className=\"user-profile__form-progress\" value={[progress]} max=\"100\"/>\r\n                <input required className=\"user-profile__form-input\" type=\"file\" accept=\"image/*\" onChange={handleChange}/>\r\n                \r\n                <button  className=\"primary-btn\">Wyslij</button>\r\n            </form>\r\n        </Modal>\r\n\r\n\r\n\r\n\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default AddPhotos;","import { useParams } from \"react-router-dom\";\r\nimport { db, storage } from \"../firebase\";\r\n\r\nconst DeletePhoto = ({imageId, imageName}) => {\r\n    const {id} = useParams();\r\n\r\n\r\n\r\n    const photoRef = storage.ref(`${id}/Images/`).child(`${imageName}`);\r\n    const handelDelete = ()=> {\r\n        photoRef.delete().then(()=>{\r\n            console.log('usunięto zdjęcie z bazy')\r\n        }).catch((error)=>{\r\n            alert(error)\r\n        })\r\n        db.collection('users').doc(id).collection(\"images\").doc(imageId).delete().then(()=>{\r\n            console.log('usunięto link do zdjęcia');\r\n        }).catch((error)=>{\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    return ( \r\n        <button className=\"user-profile__deletePhoto\" onClick={handelDelete}><i className=\"far fa-trash-alt\"></i></button>\r\n     );\r\n}\r\n \r\nexport default DeletePhoto;","import { db } from \"../../firebase\";\r\nimport firebase from 'firebase'\r\nconst InviteAnswer = ({from, yourId, avatar, username}) => {\r\n   \r\n    const acceptInvite= ()=>{\r\n        db.collection('users').doc(yourId).collection('friends').doc(from).set({\r\n            from : from,\r\n            avatar: avatar,\r\n            username: username\r\n\r\n        }).then(\r\n            db.collection('users').doc(yourId).collection('invites').doc(from).delete().then(()=>{\r\n                alert('Przyjęto zaproszenie')\r\n            }).catch((error)=>{\r\n                console.log(error)\r\n            })\r\n        )\r\n        db.collection('users').doc(yourId).update({\r\n            friends: firebase.firestore.FieldValue.increment(1)\r\n        })\r\n        \r\n    }\r\n    const declineInvite = ()=>{\r\n      db.collection('users').doc(yourId).collection('invites').doc(from).delete().then(()=>{\r\n          alert('nie przyjęto zaproszenia')\r\n      }).catch((error)=>{\r\n          console.log(error)\r\n      })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return ( \r\n        <div className=\"friends__buttons\">\r\n            <button onClick ={acceptInvite}><i className=\"fas fa-check\"></i></button>\r\n            <button onClick={declineInvite}><i className=\"fas fa-times\"></i></button>\r\n        </div>\r\n     )\r\n}\r\n \r\nexport default InviteAnswer;","\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../../firebase\";\r\nimport InviteAnswer from \"./InviteAnswer\";\r\n\r\nconst Invites = ({id}) => {\r\n    const yourId = id\r\n    const [invites, setInvites] = useState(null)\r\n\r\n   useEffect(()=>{\r\n    db.collection('users').doc(id).collection('invites').onSnapshot(snapshot =>{\r\n        setInvites(snapshot.docs.map(doc =>({\r\n            id: doc.id,\r\n            invite: doc.data()\r\n        })))      \r\n    })\r\n    return()=>{\r\n        setInvites(null)\r\n    }\r\n   },[id])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"friends\">\r\n            <h3 className=\"friends_title\">Zaproszenia</h3>\r\n            {(invites && invites.length !==0) ? (<div className=\"friends__wrapper\">\r\n                {invites.map(({id, invite})=>(\r\n                    <div key={id} className=\"friends__listItem\">\r\n                        <img className=\"friends__avatar avatar\" src={invite.avatar} alt=\"\"/>\r\n                        <div className=\"friends__right\">\r\n                            <p><Link to={`/users/${invite.from}`}>{invite.username} </Link></p>\r\n                            <InviteAnswer   from={invite.from} yourId={yourId} avatar={invite.avatar} username={invite.username}/>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>): <p>brak zaproszeń</p>}\r\n        </div> );\r\n}\r\n \r\nexport default Invites;","import { Modal } from \"@material-ui/core\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport {db, storage} from '../firebase'\r\n\r\nimport AddPhotos from \"./AddPhotos\";\r\nimport DeletePhoto from \"./DeletePhoto\";\r\nimport Friends from \"./Friends/Friends\";\r\nimport Invites from \"./Friends/Invites\";\r\nimport ProfileDinners from \"./ProfileDinners\";\r\n\r\nconst YourProfile = ({userProfile, userImages}) => {\r\n    const { loggedUserId} = useSelector(state => state.takeData)\r\n    const id = loggedUserId\r\n    const [quoteForm, setQuoteForm]  = useState(false);\r\n    const [avatarForm, setAvatarForm]  = useState(false);\r\n    const [descriptionForm, setDescriptionForm]  = useState(false);\r\n\r\n    const [quote, setQuote] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    const [userDbPath, setUserDbPath] = useState(null)\r\n    const[showFriends,setShowFriends] = useState(false)\r\n    const[showDinners,setShowDinners] = useState(false)\r\n    \r\n    useEffect(()=>{\r\n        setQuote(userProfile.quote)\r\n        setDescription(userProfile.description)\r\n        setUserDbPath(db.collection('users').doc(id))\r\n\r\n        return()=>{\r\n            setQuote('')\r\n            setDescription(null)\r\n            setUserDbPath(null)\r\n        }\r\n        \r\n    },[userProfile, id])\r\n\r\n\r\n    \r\n    const handleQuote = (e)=> {\r\n        e.preventDefault()\r\n        setQuoteForm(false)\r\n        userDbPath.update({\r\n            quote : quote\r\n        })\r\n    }\r\n    \r\n    const handleDescription = (e)=> {\r\n        e.preventDefault()\r\n        setDescriptionForm(false)\r\n        userDbPath.update({\r\n            description : description\r\n        })\r\n    }\r\n    const [image, setImage] = useState(null)\r\n    const [progress, setProgress] = useState(0)\r\n\r\n   const handleChange = (e)=>{\r\n       if(e.target.files[0]){\r\n           setImage(e.target.files[0])\r\n       }\r\n   }\r\n   const handleUpload = (e)=>{\r\n       e.preventDefault()\r\n    var fileName = image.name;\r\n    var idxDot = fileName.lastIndexOf(\".\") + 1;\r\n    var extFile = fileName.substr(idxDot, fileName.length).toLowerCase();\r\n    if(extFile===\"jpg\" || extFile===\"jpeg\" || extFile===\"png\"){\r\n        const uploadTask = storage.ref(`${id}/avatar`).put(image)\r\n        uploadTask.on(\r\n            \"stage_changed\",\r\n            (snapshot) => {\r\n                //progress func...\r\n                const progress = Math.round(\r\n                    (snapshot.bytesTransferred / snapshot.totalBytes) *100\r\n                );\r\n                setProgress(progress)\r\n                if(progress === 100){\r\n                    setTimeout(() => {\r\n                        setAvatarForm(false)\r\n                        \r\n                    }, 500);\r\n                }\r\n            },\r\n            (error) => {\r\n                //Error function\r\n                console.log(error);\r\n                alert(error.message)\r\n            },\r\n            ()=> {\r\n                //complete function\r\n                storage\r\n                .ref(`${id}`)\r\n                .child(\"avatar\")\r\n                .getDownloadURL()\r\n                .then(url => {\r\n                    userDbPath.update({\r\n                        avatar : url\r\n                    });\r\n                    setProgress(0);\r\n                    setImage(null);\r\n                })\r\n            }\r\n        )\r\n   }else{\r\n       alert('To nie jest zdjęcie')\r\n   }\r\n}\r\n  \r\n    return ( \r\n        <div className=\"user-profile\">\r\n            {/* <p className=\"user-profile-quote\" onClick={()=>setQuoteForm(true)}>{userProfile.quote}</p> */}\r\n            <div className=\"user-info\">\r\n                <img className=\"user-info__image user-info__edit\" src={userProfile.avatar} alt=\"\" onClick={()=>setAvatarForm(true)}/>\r\n                <div className=\"user-info__personal\">\r\n                    <div className=\"user-info__personal-upper\">\r\n                    <p className=\"user-info__username\">{userProfile.username}</p>\r\n                    <div className=\"user-info__emotes\">\r\n                        <div className=\"user-info__emotes-item\">\r\n                            <i className=\"far fa-grin-tongue \"></i>\r\n                            <p>{userProfile.likes}</p>\r\n                        </div>\r\n                        <div className=\"user-info__emotes-item user-info__emotes-item--middle\" onClick={()=>{setShowDinners(!showDinners); \r\n                            setShowFriends(false)}}>\r\n                            <i className=\"fas fa-utensils\"></i>\r\n                            <p>{userProfile.dinners}</p>\r\n                        </div>\r\n                        <div className=\"user-info__emotes-item user-info__emotes-item\"   onClick={()=>{setShowFriends(!showFriends); \r\n                        setShowDinners()}}>\r\n                        <i className=\"fas fa-user-friends\"></i>\r\n                            <p>{userProfile.friends}</p>\r\n                        </div>\r\n                    </div>\r\n                {showFriends && [<Invites key='1'  id={id} />,\r\n                    <Friends key='2' isItYourProfile={true} /> ]}\r\n                    {showDinners && <ProfileDinners showDinners = {showDinners}/>}\r\n                    </div>\r\n                    <p className=\"user-info__personal-description user-info__edit\" onClick={()=>setDescriptionForm(true)}>{userProfile.description}</p>\r\n                </div>\r\n                <AddPhotos id={id}/>\r\n            </div>\r\n            {userImages &&<div className=\"user-profile__images-box\">\r\n                {userImages.map(({id, image})=>(\r\n                    <div className=\"user-profile__image\" key={id}>\r\n                        <img src={image.image} alt=\"\" />\r\n                        <DeletePhoto  imageId={id} imageName={image.name}/>\r\n                        {/* <div className=\"user-profile__img\" style={ { backgroundImage: `url(\"${image.image}\")`}}> </div> */}\r\n\r\n                    </div>\r\n                ))}\r\n            </div>}\r\n        \r\n\r\n        \r\n        <Modal\r\n            open={quoteForm}\r\n            onClose={()=> setQuoteForm(false)}\r\n            >\r\n            <form className=\"new-dinner\" onSubmit={(e)=>handleQuote(e)}>\r\n                    <h3>Twój cytat</h3>\r\n                    <input className=\"user-profile__form-input\" type=\"text\" value={quote} onChange={(e)=>setQuote(e.target.value)}/>\r\n\r\n                <button className=\"primary-btn\">Wyslij</button>\r\n            </form>\r\n        </Modal>\r\n        <Modal\r\n            open={avatarForm}\r\n            onClose={()=> setAvatarForm(false)}\r\n            >\r\n            <form className=\"new-dinner\">\r\n                <h3>Twóje zdjęcie</h3>\r\n                {/* <input type=\"text\" value={avatar} onChange={(e)=>setAvatar(e.target.value)}/> */}\r\n                <progress className=\"user-profile__form-progress\" value={[progress]} max=\"100\"/>\r\n                <input className=\"user-profile__form-input\" type=\"file\" accept=\"image/*\" onChange={handleChange}/>\r\n                \r\n                <button onClick={(e)=>handleUpload(e)} className=\"primary-btn\">Wyslij</button>\r\n            </form>\r\n        </Modal>\r\n        <Modal\r\n            open={descriptionForm}\r\n            onClose={()=> setDescriptionForm(false)}\r\n            >\r\n            <form className=\"new-dinner\" onSubmit={(e)=>handleDescription(e)}>\r\n                    <h3>Twój opis</h3>\r\n                    <textarea className=\"user-profile__form-textarea\" minLength=\"1\" maxLength=\"300\" type=\"text\" value={description} onChange={(e)=>setDescription(e.target.value)}/>\r\n\r\n                <button className=\"primary-btn\">Wyslij</button>\r\n            </form>\r\n        </Modal>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default YourProfile;","\r\n\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, withRouter } from \"react-router-dom\";\r\nimport {auth, db} from '../firebase'\r\nimport Loader from \"../Loader\";\r\nimport Site404 from \"../Site404\";\r\nimport StandardProfile from \"./StandardProfile\";\r\nimport YourProfile from \"./YourProfile\";\r\nconst ProfileSite = () => {\r\n    const {id} = useParams()\r\n    const [userProfile, setUserProfile] = useState('')\r\n    const [isItYourProfile, setIsItYourProfile] = useState();\r\n    const [userImages, setUserImages] = useState(null)\r\n    const [loading, setLoading] = useState(true)\r\n    \r\n\r\n   \r\n    useEffect(() => {\r\n        auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                if( id === auth.X){\r\n                    setIsItYourProfile(true)\r\n                }else{\r\n                    setIsItYourProfile(false)\r\n                    console.log('czekaj')\r\n                }\r\n                } \r\n            });\r\n      db.collection(\"users\").doc(id)\r\n    .onSnapshot((doc) => {\r\n      setUserProfile(doc.data())\r\n      setLoading(false)\r\n    });\r\n    db.collection('users').doc(id).collection('images').onSnapshot(snapshot=>{\r\n        setUserImages(snapshot.docs.map(doc => ({\r\n         id : doc.id,\r\n         image: doc.data()\r\n         })))\r\n        });\r\n        return()=>{\r\n            setIsItYourProfile(null)\r\n            setUserProfile(null)\r\n        }\r\n\r\n     },[id] );\r\n    \r\n    \r\n\r\n\r\n    return ( \r\n        \r\n\r\n            (!loading ?\r\n                (userProfile ?  (\r\n                isItYourProfile ?  <YourProfile userProfile={userProfile}  userImages={userImages}/> : <StandardProfile userProfile={userProfile} userImages={userImages} userId={id}/>\r\n            ): <Site404/>\r\n                \r\n            ): <Loader/>\r\n            )\r\n       \r\n    )\r\n        }\r\nexport default withRouter(ProfileSite);","import { Modal } from \"@material-ui/core\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useSelector } from \"react-redux\";\r\nimport {db, auth} from './firebase'\r\nimport firebase from 'firebase'\r\nconst MakeDinner = () => {\r\n    const [city, setCity] = useState('');\r\n    const [address, setAddress] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [time, setTime] = useState('');\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [avatar, setAvatar] = useState(null);\r\n    const [openForm, setOpenForm] = useState(false)\r\n    const { loggedUserId} = useSelector(state => state.takeData)\r\n    useEffect(()=>{\r\n        auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                setCurrentUser(user.displayName)\r\n            } else {\r\n                setCurrentUser(null)\r\n            }\r\n          });\r\n          db.collection('users').doc(auth.X).onSnapshot((doc)=>{\r\n            setAvatar(doc.data().avatar)\r\n        })\r\n          return()=>{\r\n              setAvatar(null)\r\n          }\r\n    },[])\r\n\r\n\r\n\r\n    const handleSubmit = (e)=>{\r\n        e.preventDefault()\r\n        const dinner = { city, name, address, date, time};\r\n        console.log(dinner)\r\n        \r\n        if(city.length < 36 && name.length < 36 && address.length <36  ){db.collection('diners').add({\r\n            city: city,\r\n            address: address,\r\n            name: name,\r\n            date: date,\r\n            time: time,\r\n            \r\n        })\r\n        .then((docRef) => {\r\n            console.log(\"Document written with ID: \", docRef.id);\r\n            db.collection('diners').doc(docRef.id).collection(\"dinnerMaker\").add({\r\n                avatar: avatar,\r\n                username: currentUser,\r\n                id: loggedUserId\r\n            })\r\n            db.collection('users').doc(loggedUserId).collection('dinners').doc(docRef.id).set({\r\n                date: date,\r\n                name: name,\r\n                time: time,\r\n                city: city,\r\n                id: docRef.id\r\n            })\r\n            db.collection('users').doc(loggedUserId).update({\r\n                dinners: firebase.firestore.FieldValue.increment(1)\r\n            })\r\n        }).catch((error) => {\r\n            console.error(\"Error adding document: \", error);\r\n        });\r\n        setOpenForm(false)}else{\r\n            alert('maksymalna ilość znaków to 35')\r\n        }\r\n    }\r\n    return ( \r\n        <div className=\"make-dinner\">\r\n\r\n            <Modal\r\n            open={openForm}\r\n            onClose={()=> setOpenForm(false)}\r\n            >\r\n\r\n            <form className=\"new-dinner\" onSubmit={(e)=>handleSubmit(e)}>\r\n            <h3>Stwórz ucztę</h3>\r\n                <div className=\"new-dinner__input new-dinner__input--date\" >\r\n                <label htmlFor=\"date\">Data uczty</label>\r\n                <input id=\"date\" type=\"date\" \r\n                required\r\n                placeholder=\"data\"\r\n                value={date} \r\n                onChange={(e)=> setDate(e.target.value)}\r\n                \r\n                />\r\n\r\n                </div>\r\n                <div className=\"new-dinner__input new-dinner__input--time\">\r\n                <label htmlFor=\"time\">Godzina uczty</label>\r\n                <input id=\"time\" type=\"time\"\r\n                required\r\n                placeholder=\"godzina\"\r\n                onChange={(e)=> setTime(e.target.value)}\r\n                />\r\n                </div>\r\n\r\n                <input className=\"new-dinner__input new-dinner__input--city\"\r\n                type=\"text\" placeholder=\"Miasto\" \r\n                required\r\n                value={city} \r\n                maxLength=\"35\"\r\n                onChange={(e)=> setCity(e.target.value)}/>\r\n\r\n                <input className=\"new-dinner__input new-dinner__input--name\"\r\n                required\r\n                type=\"text\"\r\n                placeholder=\"Nazwa miejsca\"\r\n                maxLength=\"35\"\r\n                onChange={(e)=> setName(e.target.value)}/>\r\n\r\n                <input className=\"new-dinner__input new-dinner__input--address\"\r\n                required\r\n                type=\"text\" \r\n                placeholder=\"Adres uczty\"\r\n                maxLength=\"35\"\r\n                onChange={(e)=> setAddress(e.target.value)}/>\r\n\r\n                <button className=\"primary-btn\">Wyslij</button>\r\n            </form>\r\n            </Modal>\r\n            <button className=\"primary-btn new-dinner__addButton\" onClick={()=> setOpenForm(true)}>Dodaj ucztę</button>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default MakeDinner;","import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {db} from '../firebase'\r\nconst Dinner = ({searchValue, name, address, date,time, city, dinnerId}) => {\r\n\r\n    const [dinnerMaker, setDinnerMaker] = useState([])\r\n    const [invited, setInvited]  = useState([])\r\n    let dinnerTime = new Date(`${date}T${time}`).getTime()\r\n    let currentTime = new Date().getTime()\r\n    useEffect(()=>{\r\n        if(dinnerTime < currentTime){\r\n            db.collection('diners').doc(dinnerId).delete()\r\n        }\r\n\r\n    },[dinnerId, dinnerTime, currentTime])\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        var docRef = db.collection(\"diners\").doc(dinnerId).collection(\"invited\");\r\n        var docRefToDinnerMaker = db.collection('diners').doc(dinnerId).collection(\"dinnerMaker\")\r\n        docRefToDinnerMaker.onSnapshot(snapshot =>{\r\n            setDinnerMaker(snapshot.docs.map(doc=> ({\r\n                avatars: doc.data(),\r\n                id: doc.id})))\r\n        })\r\n        docRef.onSnapshot(snapshot =>{\r\n            setInvited(snapshot.docs.map(doc=> ({\r\n               avatars: doc.data(),\r\n                id: doc.id})))\r\n        })\r\n        return()=>{\r\n            setDinnerMaker(null)\r\n            setInvited(null)\r\n        }\r\n    },[dinnerId])\r\n\r\n    \r\n\r\n\r\n\r\n    return (\r\n        (city.toLowerCase().search(searchValue.toLowerCase()) !==-1 )?\r\n         <Link to={`/dinners/${dinnerId}`}>\r\n          <div className=\"dinner-list__box\" key={dinnerId}>\r\n                        <div className=\"dinner-list__up\">\r\n                            <div className=\"dinner-list__left\">\r\n                                <h4 className=\"dinner-list__city\">{city}</h4>\r\n                                <p className=\"dinner-list__date\">{date} {time}</p>\r\n                            </div>\r\n                            {invited && <div className=\"dinner-list__avatars\">\r\n                               \r\n                                {\r\n                                    dinnerMaker.map(({avatars, id})=>(\r\n                                        <img key={id} className=\"avatar\" src={avatars.avatar} alt=\"dinner-maker-avatar\"/>\r\n                                    ))\r\n                                }\r\n                                {\r\n                                    invited.map(({avatars, id})=>(\r\n                                        <img key={id} className=\"avatar\" src={avatars.avatar} alt=\"dinner-guest-avatar\"/>\r\n                                    ))\r\n                                }\r\n                            </div>}\r\n                        </div>\r\n\r\n                        \r\n                        <div className=\"dinner-list__down\">\r\n                        <div className=\"dinner-list__left\">\r\n                            <p className=\"dinner-list__place\">{name}</p>\r\n                            <p className=\"dinner-list__address\">{address}</p>\r\n                        </div>\r\n                        </div>\r\n\r\n                    </div>\r\n        </Link>: false\r\n      );\r\n}\r\n \r\nexport default Dinner;","import { useState, useEffect } from \"react\";\r\n\r\nimport MakeDinner from \"../MakeDinner\";\r\nimport {db, auth} from '../firebase'\r\nimport Dinner from \"./Dinner\";\r\n\r\n\r\nconst DinnersList = () => {\r\n  const searchIcon = document.querySelector('.dinner-list__search-icon')\r\n  const searchBar = document.querySelector('.dinner-list__search-bar')\r\n  const search = document.querySelector('.dinner-list__search')\r\n  const showBar = ()=>{\r\n      searchIcon.classList.toggle('rotate')\r\n      searchIcon.classList.toggle('rotateBack')\r\n      searchBar.classList.toggle('show-search-bar')\r\n      search.classList.toggle('show-search')\r\n      setSearchValue('')\r\n  }\r\n\r\n    const [dinners, setDinners] = useState([])\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [searchValue, setSearchValue] = useState('')\r\n\r\n\r\nuseEffect(() => {\r\n   db.collection('diners').onSnapshot(snapshot=>{\r\n       setDinners(snapshot.docs.map(doc => ({\r\n        id : doc.id,\r\n        dinner: doc.data()\r\n\r\n        })))\r\n   });\r\n   auth.onAuthStateChanged(user => {\r\n    if (user) {\r\n      setCurrentUser(user.displayName)\r\n    } else {\r\n      setCurrentUser(null)\r\n    }\r\n  });\r\n  return()=>{\r\n    setDinners(null)\r\n  }\r\n}, []);\r\n\r\n  \r\n    return ( \r\n        (dinners &&<div className=\"dinner-list\">\r\n            <h3 className=\"dinner-list__header\">Lista uczt:</h3>\r\n            <div type=\"text\" className=\"dinner-list__search\">\r\n              <input className=\"dinner-list__search-bar\" id=\"testing\" placeholder=\"Miasto\"  type=\"text\" value={searchValue} onChange={(e)=> setSearchValue(e.target.value)} />\r\n             <button  className=\"dinner-list__search-icon rotateBack\" onClick={()=>showBar()}><label htmlFor=\"testing\"><i className=\"fas fa-search\"></i></label></button>\r\n            </div>\r\n            {currentUser ? <MakeDinner/>: <p>Aby utworzyć ucztę musisz się zalogować</p>}\r\n            {\r\n                dinners.map(({id, dinner}) => (\r\n                    <Dinner searchValue = {searchValue} city={dinner.city} date={dinner.date} time={dinner.time} address={dinner.address} name={dinner.name} key={id} dinnerId = {id}></Dinner>\r\n                    ))\r\n                  }\r\n                  \r\n                \r\n        </div>)\r\n    );\r\n}\r\n\r\nexport default DinnersList;","import { useParams } from \"react-router-dom\";\r\nimport { auth, db } from \"../firebase\";\r\nimport firebase from 'firebase'\r\nconst LeaveDinner = ({id}) => {\r\n    const dinnerId = useParams()\r\n    \r\n    const leave = () => {\r\n        db.collection('diners').doc(dinnerId.id).collection(\"invited\").doc(id).delete().then(()=>{\r\n            console.log('usunieto');;\r\n        }).catch((error)=>{\r\n            console.log(error)\r\n        })\r\n        db.collection('users').doc(auth.X).collection('dinners').doc(dinnerId.id).delete()\r\n        db.collection('users').doc(auth.X).update({\r\n            dinners: firebase.firestore.FieldValue.increment(-1)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    return ( \r\n        <button className=\"leaveButton\" onClick={()=>leave()}>Opuść</button>\r\n     );\r\n}\r\n \r\nexport default LeaveDinner;","import { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { db } from \"./firebase\";\r\n\r\n\r\n\r\nconst Timer = ({date, time, id}) => {\r\n   const history = useHistory()\r\n   const [currentTime, setCurrentTime] = useState(0);\r\n   const [test2, setTest2] = useState(0);\r\n\r\n   setInterval(() => {\r\n      setCurrentTime(new Date().getTime())\r\n   }, 1000);\r\n\r\n   let dinnerTime = new Date(`${date}T${time}`).getTime()\r\n   useEffect(()=>{\r\n      setTest2(dinnerTime - currentTime)\r\n      return () => {\r\n         setTest2('')\r\n       }\r\n   },[currentTime, dinnerTime])\r\n   \r\n\r\n   useEffect(()=>{\r\n      if(test2 < 0){\r\n         db.collection('diners').doc(id).delete().then(()=>{\r\n            history.push('/dinners')\r\n         })\r\n      }\r\n   },[test2, id, history])\r\n\r\n\r\n    return ( \r\n      <div className=\"timer-box\">\r\n         <p className=\"timer-box__header\">Uczta za:</p>\r\n         <p className=\"timer-box__info\">{(Math.floor(test2/3600000))} godziny { Math.floor(((test2 % 3600000) / 60000))} minuty { (((test2 % 3600000) % 60000)/ 1000).toFixed(0)} sekundy</p>\r\n      </div>\r\n     );\r\n}\r\n \r\nexport default Timer;","import { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport {auth, db} from '../firebase'\r\nimport LeaveDinner from \"./LeveDinner\";\r\nimport Timer from \"../Timer\";\r\nimport firebase from 'firebase'\r\nimport Site404 from \"../Site404\";\r\nimport Loader from \"../Loader\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst DinnerInfo = () => {\r\n\r\n    const {id} = useParams();\r\n    const [dinner, setDinner]  = useState(null)\r\n    const [invited, setInvited]  = useState([])\r\n    const [dinnerMaker, setDinnerMaker]  = useState(null)\r\n    const [currentUser, setCurrentUser] =useState(null);\r\n    const [currentUserId, setCurrentUserId] =useState(null);\r\n    const [alreadyJoined, setAlreadyJoined] = useState(false)\r\n    const [isMaker, setIsMaker] = useState(true)\r\n    const [avatar, setAvatar] = useState(false)\r\n    const [loading, setLoading] = useState(true)\r\n    const { loggedUserId} = useSelector(state => state.takeData)\r\n    const addInvited = ()=>{\r\n            db.collection('diners').doc(id).collection(\"invited\").add({\r\n            avatar: avatar,\r\n            username: currentUser,\r\n            id: currentUserId\r\n            \r\n        })\r\n        db.collection('users').doc(auth.X).collection('dinners').doc(id).set({\r\n            date: dinner.date,\r\n            name: dinner.name,\r\n            time: dinner.time,\r\n            city: dinner.city,\r\n            id: id\r\n        })\r\n        db.collection('users').doc(auth.X).update({\r\n            dinners: firebase.firestore.FieldValue.increment(1)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        auth.onAuthStateChanged(user => {\r\n        if (user) {\r\n            setCurrentUser(user.displayName)\r\n            setCurrentUserId(user.X.X)\r\n            db.collection('users').doc(user.X.X).onSnapshot((doc)=>{\r\n                setAvatar(doc.data().avatar)\r\n            })\r\n            \r\n            } else {\r\n        setCurrentUser(null)\r\n        setCurrentUserId(null)\r\n            }\r\n        });\r\n    var docRef = db.collection(\"diners\").doc(id);\r\n    var docRefToDinnerMaker = db.collection('diners').doc(id).collection(\"dinnerMaker\")\r\n        docRefToDinnerMaker.onSnapshot(snapshot =>{\r\n            setDinnerMaker(snapshot.docs.map(doc=> ({\r\n                maker: doc.data(),\r\n                id: doc.id})))\r\n        })\r\n    docRef.collection(\"invited\").onSnapshot(snapshot =>{\r\n        setInvited(snapshot.docs.map(doc =>({ \r\n            id: doc.id,\r\n            invitedUser: doc.data()})))\r\n    })\r\n    // console.log(invited)\r\ndocRef.get().then((doc) => {\r\n    if (doc.exists) {\r\n        // console.log(\"Document data:\", doc.data());\r\n        setDinner(doc.data())\r\n        setLoading(false)\r\n    } else {\r\n        // doc.data() will be undefined in this case\r\n        console.log(\"No such document!\");\r\n        setLoading(false)\r\n    }\r\n\r\n}).catch((error) => {\r\n    console.log(\"Error getting document:\", error);\r\n});\r\n    return()=>{\r\n        setCurrentUser(null)\r\n        setCurrentUserId(null)\r\n        setDinner(null)\r\n        setLoading(null)\r\n        setInvited(null)\r\n        setDinnerMaker(null)\r\n    }\r\n},[id])\r\n\r\nuseEffect(()=>{\r\n    if(dinnerMaker){\r\n\r\n        if(dinnerMaker[0].maker.id === loggedUserId ){\r\n            setIsMaker(true)\r\n        }else{\r\n            setIsMaker(false)\r\n        }\r\n    }\r\n    return()=>{\r\n        setIsMaker(null)\r\n    }\r\n},[dinnerMaker, loggedUserId])\r\n\r\nuseEffect(()=>{\r\n    \r\n    if(invited){\r\n        \r\n        for (let i = 0; i < invited.length; i++) {\r\n            if(invited[i].invitedUser.id === auth.X){\r\n                setAlreadyJoined(true)\r\n                break;\r\n            }\r\n            else{\r\n                setAlreadyJoined(false)\r\n            }\r\n            \r\n        }\r\n    }\r\n    return()=>{\r\n        setAlreadyJoined(null)\r\n    }\r\n\r\n},[invited])\r\n\r\n\r\n    return ( \r\n    (!loading ? (dinner ? <div className=\"dinner-info\">\r\n        <Timer date={dinner.date} time={dinner.time} id={id}/>\r\n        <div className=\"dinner-info__mainInfo\">\r\n            <h2 className=\"dinner-info__city\">{dinner.city}</h2>\r\n            <p className=\"dinner-info__date\">{dinner.date} {dinner.time}</p>\r\n            <p className=\"dinner-info__name\">{dinner.name}</p>\r\n            <p className=\"dinner-info__address\">{dinner.address}</p>\r\n            <p className=\"dinner-info__about\">{dinner.about}</p>\r\n        </div>\r\n\r\n        <h4 className=\"dinner-info__header\">Uczestnicy:</h4>\r\n        {invited && <div className=\"dinner-info__box\">\r\n            \r\n            {dinnerMaker.map(({maker, id}) =>(\r\n                <div className=\"dinner-info__user-box dinner-info__user-box--maker\" key={id}>\r\n                    <img src={maker.avatar} alt=\"\" className=\"dinner-info__avatar avatar\"/>\r\n                    <p className=\"dinner-info__user-name\"> <Link to={`/users/${maker.id}`}>{maker.username} </Link></p>\r\n                    \r\n                </div>\r\n            ))}\r\n            {invited.map(({id, invitedUser}) =>(\r\n                <div className=\"dinner-info__user-box\" key={id}>\r\n                    <img src={invitedUser.avatar} alt=\"\" className=\"dinner-info__avatar avatar\"/>\r\n                   \r\n                        <p className=\"dinner-info__user-name\"> <Link to={`/users/${invitedUser.id}`}>{invitedUser.username} </Link></p>\r\n                       \r\n                    {(currentUser === invitedUser.username ? <LeaveDinner  id={id}  /> : false)}\r\n                </div>\r\n            ))}\r\n        </div>}\r\n        {\r\n            !currentUser ? <p>Aby dołączyć do uczty musisz się zalogować</p> :\r\n                (alreadyJoined || isMaker ? <p>Już dołączyłeś do tej uczty</p> :\r\n                <button className=\"primary-btn\" onClick={()=> addInvited()}>Dołącz</button>)\r\n\r\n        \r\n        }\r\n    </div>: <Site404/> ) : <Loader/>));\r\n}\r\n\r\nexport default DinnerInfo;","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { auth} from \"../../firebase\";\r\n\r\n\r\n\r\nexport const userDataSlice = createSlice({\r\n    name : \"loginUp\",\r\n    initialState: {\r\n        loggedUserId: '',\r\n        loggedUserUsername: '',\r\n        loggedUserPhotos: 2,\r\n    },\r\n    reducers: {\r\n        loginUp: state =>{\r\n            state.loggedUserId = auth.X\r\n            state.loggedUserUsername = auth.currentUser.displayName\r\n           \r\n        },\r\n        loginOut: state =>{\r\n            state.loggedUserId = ''\r\n            state.loggedUserUsername = ''\r\n        },\r\n        getPhotos: (state, action)=>{\r\n            state.loggedUserPhotos = action.payload\r\n        }\r\n\r\n\r\n\r\n}})\r\n\r\nexport const {loginUp, loginOut, getPhotos} = userDataSlice.actions\r\nexport default userDataSlice.reducer","import { Button, Input, makeStyles, Modal } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch} from \"react-redux\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport {auth, db} from './firebase'\r\nimport { loginOut, loginUp } from \"./redux/userData/userDataSlice\";\r\nfunction getModalStyle() {\r\n    const top = 50;\r\n    const left = 50;\r\n  \r\n    return {\r\n      top: `${top}%`,\r\n      left: `${left}%`,\r\n      transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      position: 'absolute',\r\n      width: 400,\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n  }));\r\n\r\n\r\n\r\nconst Header = () => {\r\n    const classes = useStyles();\r\n  const history = useHistory()\r\n  const [modalStyle] = useState(getModalStyle);\r\n  const [open, setOpen] = useState(false)\r\n  const [openLogin, setOpenLogin] = useState(false)\r\n  const [OpenLogout, setOpenLogout] = useState(false)\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [user, setUser] = useState(null);\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(()=>{\r\n    const usubscribe = auth.onAuthStateChanged((authUser)=>{\r\n      if(authUser){\r\n        //user loged in\r\n        setUser(authUser)\r\n        dispatch(loginUp())\r\n      }else{\r\n        setUser(null);\r\n        dispatch(loginOut())\r\n      }\r\n    })\r\n    return () => {\r\n      usubscribe()\r\n    }\r\n  },[user, username, dispatch])\r\n\r\n  const signUp = (e) =>{\r\n    e.preventDefault();\r\n    auth\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n      setOpen(false)\r\n    setUser( userCredential.user);\r\n    auth.currentUser.updateProfile({\r\n      displayName: username\r\n    })\r\n    db.collection(\"users\").doc(auth.currentUser.X.X).set({\r\n      username: username,\r\n      avatar: \"https://www.w3schools.com/howto/img_avatar.png\",\r\n      description: \"Twój opis\",\r\n      dinners: 0,\r\n      likes: 0,\r\n      friends: 0,\r\n      quote: \"twój cytat\"\r\n  })\r\n  .then(() => {\r\n      console.log(\"Document successfully written!\");\r\n  })\r\n  .catch((error) => {\r\n      console.error(\"Error writing document: \", error);\r\n  });\r\n  })\r\n  .catch((error) => {\r\n    var errorMessage = error.message;\r\n    alert(errorMessage)\r\n  });\r\n  }\r\n  const login = (e) =>{\r\n    e.preventDefault();\r\n    auth\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n    // Signed in\r\n    setUser( userCredential.user);\r\n    dispatch(loginUp())\r\n  })\r\n  .catch((error) => {\r\n    var errorMessage = error.message;\r\n    alert(errorMessage)\r\n  });\r\n\r\n}\r\nconst logout = (e) => {\r\n  auth.signOut().then(() => {\r\n    // Sign-out successful.\r\n    history.push('/')\r\n    dispatch(loginOut())\r\n  }).catch((error) => {\r\n    // An error happened.\r\n  });\r\n}\r\n    return ( \r\n        <div className=\"signup\">\r\n            {user&& <p>{user.displayName}</p>}\r\n    <Modal className=\"modal\"\r\n        open={open}\r\n        onClose={()=> setOpen(false)}\r\n    >\r\n        <div style={modalStyle} className={classes.paper}>\r\n        <center>\r\n        <form className=\"App__signUp\">\r\n            <Input\r\n                type=\"text\"\r\n                placeholder = \"username\"\r\n                value={username}\r\n                onChange={(e)=> setUsername(e.target.value)}\r\n            />\r\n            <Input\r\n                type=\"text\"\r\n                placeholder = \"email\"\r\n                value={email}\r\n                onChange={(e)=> setEmail(e.target.value)}\r\n            />\r\n            <Input\r\n              type=\"password\"\r\n              placeholder = \"password\"\r\n              value={password}\r\n              onChange={(e)=> setPassword(e.target.value)}\r\n            />\r\n            <Button type=\"submit\" onClick={signUp}>Załóż konto</Button>\r\n          </form>\r\n          <p>Masz konto? </p>\r\n          <Button onClick={()=>{setOpenLogin(true); setOpen(false)}}>Zaloguj </Button>\r\n          </center>\r\n        </div>\r\n\r\n      </Modal>\r\n    <Modal\r\n        open={openLogin}\r\n        onClose={()=> setOpenLogin(false)}\r\n      >\r\n        <div style={modalStyle} className={classes.paper}>\r\n          <center>\r\n          <form className=\"App__signUp\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder = \"email\"\r\n              value={email}\r\n              onChange={(e)=> setEmail(e.target.value)}\r\n            />\r\n            <Input\r\n              type=\"password\"\r\n              placeholder = \"password\"\r\n              value={password}\r\n              onChange={(e)=> setPassword(e.target.value)}\r\n            />\r\n            <Button type=\"submit\" onClick={(e)=>{login(e); setOpenLogin(false)}}>Zaloguj</Button>\r\n          </form>\r\n          <p>Nie masz konta? </p>\r\n          <Button onClick={()=>{setOpenLogin(false); setOpen(true)}}>Zarejestruj </Button>\r\n          </center>\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        open={OpenLogout}\r\n        onClose={()=> setOpenLogout(false)}\r\n      >\r\n        <div style={modalStyle} className={classes.paper}>\r\n          <center>\r\n          \r\n          <p>Zostałeś wylogowany/a</p>\r\n          <Button onClick={()=> setOpenLogout(false)}>ok</Button>\r\n          </center>\r\n        </div>\r\n      </Modal>\r\n      <h1>Foodie</h1>\r\n      {!user ? \r\n    // <Button onClick={()=> setOpen(true)}>Sign Up</Button>\r\n    <button className=\"header-btn\" onClick={()=> setOpenLogin(true)}>Login</button> :\r\n    <button className=\"header-btn\"\r\n    onClick={()=> {setOpenLogout(true);\r\n    logout()  }}>\r\n        Wyloguj\r\n    </button>\r\n      }\r\n    <NavLink  to=\"/dinners\">\r\n    <i className=\"fas fa-utensils header-btn\"></i>\r\n    </NavLink>\r\n    {\r\n      auth.currentUser &&\r\n    <NavLink  to={`/users/${auth.currentUser.X.X}`}>\r\n    <i className=\"fas fa-user header-btn\"></i>\r\n    </NavLink>\r\n  }\r\n    \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","\r\nimport './css/style.css'\r\nimport './css/small.css'\r\nimport './css/medium.css'\r\nimport './css/large.css'\r\nimport './css/xlarge.css'     \r\n\r\nimport Home from './Home/Home';\r\n\r\n\r\nimport ProfileSite from './ProfileSite/ProfileSite';\r\nimport DinnersList from './Dinners/DinnersList';\r\nimport DinnerInfo from './Dinners/DinnerInfo';\r\nimport {BrowserRouter as Router, Route, Switch,  withRouter} from 'react-router-dom';\r\nimport MakeDinner from './MakeDinner';\r\n\r\nimport Header from './Header';\r\nimport Site404 from './Site404'\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n  \r\n\r\n\r\n  return (\r\n    <Router>\r\n    <div className=\"App\">\r\n      <Header/>\r\n      <Switch>\r\n        <Route exact path='/'><Home/></Route>\r\n        <Route exact path='/foodie'><Home/></Route>\r\n\r\n        <Route  exact path='/users/:id' component={withRouter(ProfileSite)} />\r\n        <Route  exact path='/dinners'><DinnersList/></Route>\r\n        <Route  path='/dinners/:id'><DinnerInfo/></Route>\r\n        <Route  path='/make'><MakeDinner/></Route>\r\n        <Route component={Site404} />\r\n      </Switch>\r\n    </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport loginUpReducer from './redux/userData/userDataSlice'\r\nexport default configureStore({\r\n    \r\n    reducer : {\r\n        takeData : loginUpReducer\r\n    }\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store ={store}>\r\n    <App />\r\n\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}